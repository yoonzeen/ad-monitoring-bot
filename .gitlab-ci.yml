image: mcr.microsoft.com/playwright:v1.40.0-jammy

# 전역 타임아웃을 10분으로 넉넉하게 설정
variables:
  FF_USE_FASTZIP: "true"

pages:
  stage: deploy
  timeout: 10m  # 이 작업이 최대 10분까지 돌 수 있게 허용
  script:
    - npm install
    # 브라우저 설치 명령어는 생략 (이미지에 포함됨)
    - mkdir -p public
    - node monitor.js
  artifacts:
    paths:
      - public
  only:
    - main